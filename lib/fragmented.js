'use strict';

Object.defineProperty(window, 'fragment', {
  get: function get() {
    var fragment = getFragment();

    return fragment;
  },

  set: function set(fragment) {
    var silently = false;

    setFragment(fragment, silently);
  }
});

window.addEventListener('hashchange', hashChangeListener);

var fragmentChangeHandlers = [];

function getFragment() {
  var hash = window.location.hash.substr(1),
      ///
  fragment = new String(hash); ///

  Object.assign(fragment, {
    getFragment: getFragment,
    setFragment: setFragment,
    onFragmentChange: onFragmentChange,
    offFragmentChange: offFragmentChange
  });

  return fragment;
}

function setFragment(fragment) {
  var silently = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

  var hash = fragment; ///

  if (silently) {
    window.removeEventListener('hashchange', hashChangeListener);
  }

  window.location.hash = hash;

  if (silently) {
    setTimeout(function () {
      window.addEventListener('hashchange', hashChangeListener);
    }, 0);
  }
}

function onFragmentChange(fragmentChangeHandler) {
  fragmentChangeHandlers.push(fragmentChangeHandler);
}

function offFragmentChange(fragmentChangeHandler) {
  var index = fragmentChangeHandlers.indexOf(fragmentChangeHandler);

  if (index > -1) {
    var start = index,
        ///
    deleteCount = 1;

    fragmentChangeHandlers.splice(start, deleteCount);
  }
}

function hashChangeListener() {
  fragmentChangeHandlers.forEach(function (fragmentChangeHandler) {
    fragmentChangeHandler();
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2VzNi9mcmFnbWVudGVkLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93IiwiZ2V0IiwiZnJhZ21lbnQiLCJnZXRGcmFnbWVudCIsInNldCIsInNpbGVudGx5Iiwic2V0RnJhZ21lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFzaENoYW5nZUxpc3RlbmVyIiwiZnJhZ21lbnRDaGFuZ2VIYW5kbGVycyIsImhhc2giLCJsb2NhdGlvbiIsInN1YnN0ciIsIlN0cmluZyIsImFzc2lnbiIsIm9uRnJhZ21lbnRDaGFuZ2UiLCJvZmZGcmFnbWVudENoYW5nZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRUaW1lb3V0IiwiZnJhZ21lbnRDaGFuZ2VIYW5kbGVyIiwicHVzaCIsImluZGV4IiwiaW5kZXhPZiIsInN0YXJ0IiwiZGVsZXRlQ291bnQiLCJzcGxpY2UiLCJmb3JFYWNoIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQUEsT0FBT0MsY0FBUCxDQUFzQkMsTUFBdEIsRUFBOEIsVUFBOUIsRUFBMEM7QUFDeENDLE9BQUssZUFBVztBQUNkLFFBQU1DLFdBQVdDLGFBQWpCOztBQUVBLFdBQU9ELFFBQVA7QUFDRCxHQUx1Qzs7QUFPeENFLE9BQUssYUFBU0YsUUFBVCxFQUFtQjtBQUN0QixRQUFNRyxXQUFXLEtBQWpCOztBQUVBQyxnQkFBWUosUUFBWixFQUFzQkcsUUFBdEI7QUFDRDtBQVh1QyxDQUExQzs7QUFjQUwsT0FBT08sZ0JBQVAsQ0FBd0IsWUFBeEIsRUFBc0NDLGtCQUF0Qzs7QUFFQSxJQUFNQyx5QkFBeUIsRUFBL0I7O0FBRUEsU0FBU04sV0FBVCxHQUF1QjtBQUNyQixNQUFNTyxPQUFPVixPQUFPVyxRQUFQLENBQWdCRCxJQUFoQixDQUFxQkUsTUFBckIsQ0FBNEIsQ0FBNUIsQ0FBYjtBQUFBLE1BQThDO0FBQ3hDVixhQUFXLElBQUlXLE1BQUosQ0FBV0gsSUFBWCxDQURqQixDQURxQixDQUVlOztBQUVwQ1osU0FBT2dCLE1BQVAsQ0FBY1osUUFBZCxFQUF3QjtBQUN0QkMsaUJBQWFBLFdBRFM7QUFFdEJHLGlCQUFhQSxXQUZTO0FBR3RCUyxzQkFBa0JBLGdCQUhJO0FBSXRCQyx1QkFBbUJBO0FBSkcsR0FBeEI7O0FBT0EsU0FBT2QsUUFBUDtBQUNEOztBQUVELFNBQVNJLFdBQVQsQ0FBcUJKLFFBQXJCLEVBQWdEO0FBQUEsTUFBakJHLFFBQWlCLHVFQUFOLElBQU07O0FBQzlDLE1BQU1LLE9BQU9SLFFBQWIsQ0FEOEMsQ0FDdEI7O0FBRXhCLE1BQUlHLFFBQUosRUFBYztBQUNaTCxXQUFPaUIsbUJBQVAsQ0FBMkIsWUFBM0IsRUFBeUNULGtCQUF6QztBQUNEOztBQUVEUixTQUFPVyxRQUFQLENBQWdCRCxJQUFoQixHQUF1QkEsSUFBdkI7O0FBRUEsTUFBSUwsUUFBSixFQUFjO0FBQ1phLGVBQVcsWUFBVztBQUNwQmxCLGFBQU9PLGdCQUFQLENBQXdCLFlBQXhCLEVBQXNDQyxrQkFBdEM7QUFDRCxLQUZELEVBRUcsQ0FGSDtBQUdEO0FBQ0Y7O0FBRUQsU0FBU08sZ0JBQVQsQ0FBMEJJLHFCQUExQixFQUFpRDtBQUMvQ1YseUJBQXVCVyxJQUF2QixDQUE0QkQscUJBQTVCO0FBQ0Q7O0FBRUQsU0FBU0gsaUJBQVQsQ0FBMkJHLHFCQUEzQixFQUFrRDtBQUNoRCxNQUFNRSxRQUFRWix1QkFBdUJhLE9BQXZCLENBQStCSCxxQkFBL0IsQ0FBZDs7QUFFQSxNQUFJRSxRQUFRLENBQUMsQ0FBYixFQUFnQjtBQUNkLFFBQU1FLFFBQVFGLEtBQWQ7QUFBQSxRQUFzQjtBQUNoQkcsa0JBQWMsQ0FEcEI7O0FBR0FmLDJCQUF1QmdCLE1BQXZCLENBQThCRixLQUE5QixFQUFxQ0MsV0FBckM7QUFDRDtBQUNGOztBQUVELFNBQVNoQixrQkFBVCxHQUE4QjtBQUM1QkMseUJBQXVCaUIsT0FBdkIsQ0FBK0IsVUFBU1AscUJBQVQsRUFBZ0M7QUFDN0RBO0FBQ0QsR0FGRDtBQUdEIiwiZmlsZSI6ImZyYWdtZW50ZWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdmcmFnbWVudCcsIHtcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBmcmFnbWVudCA9IGdldEZyYWdtZW50KCk7XG5cbiAgICByZXR1cm4gZnJhZ21lbnQ7XG4gIH0sXG5cbiAgc2V0OiBmdW5jdGlvbihmcmFnbWVudCkge1xuICAgIGNvbnN0IHNpbGVudGx5ID0gZmFsc2U7XG5cbiAgICBzZXRGcmFnbWVudChmcmFnbWVudCwgc2lsZW50bHkpO1xuICB9XG59KTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBoYXNoQ2hhbmdlTGlzdGVuZXIpO1xuXG5jb25zdCBmcmFnbWVudENoYW5nZUhhbmRsZXJzID0gW107XG5cbmZ1bmN0aW9uIGdldEZyYWdtZW50KCkge1xuICBjb25zdCBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpLCAgLy8vXG4gICAgICAgIGZyYWdtZW50ID0gbmV3IFN0cmluZyhoYXNoKTsgIC8vL1xuXG4gIE9iamVjdC5hc3NpZ24oZnJhZ21lbnQsIHtcbiAgICBnZXRGcmFnbWVudDogZ2V0RnJhZ21lbnQsXG4gICAgc2V0RnJhZ21lbnQ6IHNldEZyYWdtZW50LFxuICAgIG9uRnJhZ21lbnRDaGFuZ2U6IG9uRnJhZ21lbnRDaGFuZ2UsXG4gICAgb2ZmRnJhZ21lbnRDaGFuZ2U6IG9mZkZyYWdtZW50Q2hhbmdlXG4gIH0pO1xuXG4gIHJldHVybiBmcmFnbWVudDtcbn1cblxuZnVuY3Rpb24gc2V0RnJhZ21lbnQoZnJhZ21lbnQsIHNpbGVudGx5ID0gdHJ1ZSkge1xuICBjb25zdCBoYXNoID0gZnJhZ21lbnQ7ICAvLy9cblxuICBpZiAoc2lsZW50bHkpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIGhhc2hDaGFuZ2VMaXN0ZW5lcik7XG4gIH1cblxuICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IGhhc2g7XG5cbiAgaWYgKHNpbGVudGx5KSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgaGFzaENoYW5nZUxpc3RlbmVyKTtcbiAgICB9LCAwKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbkZyYWdtZW50Q2hhbmdlKGZyYWdtZW50Q2hhbmdlSGFuZGxlcikge1xuICBmcmFnbWVudENoYW5nZUhhbmRsZXJzLnB1c2goZnJhZ21lbnRDaGFuZ2VIYW5kbGVyKTtcbn1cblxuZnVuY3Rpb24gb2ZmRnJhZ21lbnRDaGFuZ2UoZnJhZ21lbnRDaGFuZ2VIYW5kbGVyKSB7XG4gIGNvbnN0IGluZGV4ID0gZnJhZ21lbnRDaGFuZ2VIYW5kbGVycy5pbmRleE9mKGZyYWdtZW50Q2hhbmdlSGFuZGxlcik7XG5cbiAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICBjb25zdCBzdGFydCA9IGluZGV4LCAgLy8vXG4gICAgICAgICAgZGVsZXRlQ291bnQgPSAxO1xuXG4gICAgZnJhZ21lbnRDaGFuZ2VIYW5kbGVycy5zcGxpY2Uoc3RhcnQsIGRlbGV0ZUNvdW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYXNoQ2hhbmdlTGlzdGVuZXIoKSB7XG4gIGZyYWdtZW50Q2hhbmdlSGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbihmcmFnbWVudENoYW5nZUhhbmRsZXIpIHtcbiAgICBmcmFnbWVudENoYW5nZUhhbmRsZXIoKTtcbiAgfSk7XG59XG4iXX0=